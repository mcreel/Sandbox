# Angrist and Krueger paper
open AKextract.dta

# First, we use first quarter as the instrument: QB_1
# To compare with Table III, panel B
ols EDUC const QB_1 --robust
eqnprint

ols LWKLYWGE const QB_1 --robust
eqnprint

###########
# Table V: OLS vs IV
# col(1) and (2)
ols LWKLYWGE const EDUC YB_* --robust
tsls LWKLYWGE const EDUC YB_*; const YB_* Y*Q* --robust

# col(3) and (4)
ols LWKLYWGE const EDUC YB_* AGEQ AGEQSQ --robust
tsls LWKLYWGE const EDUC YB_* AGEQ AGEQSQ; const YB_* AGEQ AGEQSQ Y*Q* --robust
# first stage
ols EDUC const YB_* AGEQ AGEQSQ Y*Q* --robust


# col(5) and (6)
list REGION = 11 12 13 14 15 16 17 18

ols LWKLYWGE const EDUC YB_* RACE SMSA MARRIED REGION --robust
tsls LWKLYWGE const EDUC YB_* RACE SMSA MARRIED REGION ; \
  const YB_* RACE SMSA MARRIED REGION Y*Q* --robust

# col(7) and (8)
ols LWKLYWGE const EDUC YB_* RACE SMSA MARRIED REGION AGEQ AGEQSQ --robust
tsls LWKLYWGE const EDUC YB_* RACE SMSA MARRIED REGION AGEQ AGEQSQ ; \
  const YB_* RACE SMSA MARRIED REGION AGEQ AGEQSQ Y*Q* --robust

######################
# First stages
ols EDUC const QB_1 YB_* RACE SMSA MARRIED REGION --robust

# Reduced form wage
ols LWKLYWGE const QB_1 YB_* RACE SMSA MARRIED REGION --robust



